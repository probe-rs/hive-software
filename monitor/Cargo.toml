[package]
name = "monitor"
version = "0.1.0"
edition = "2021"
authors = ["TeyKey1"]
repository = "https://github.com/probe-rs/hive-software"
description = "Hive monitor which handles all external communication, prepares the test environment and starts the test runner."
readme = "README.md"

[dependencies]
comm-types = {path = "../comm-types/", features = ["cbor", "ipc", "auth"]}
controller = {path = "../controller/"}
simple-clap-logger = {git = "https://github.com/TeyKey1/simple-clap-logger.git", rev = "6371878"}
log = "0.4"
tokio = {version  = "1.17", features = ["rt", "sync", "fs"]}
axum = {version = "0.5", features = ["ws"]}
axum-server = { version = "0.4", features = ["tls-rustls"] }
axum-macros = "0.2"
hyper = "0.14"
tower-http = {version = "0.3", features = ["fs", "auth"]}
http-body = "0.4"
async-graphql = {version = "3.0"}
async-graphql-axum = "3.0"
futures = "0.3"
ciborium = "0.2"
lazy_static = "1.4"
shared-bus = {git = "https://github.com/TeyKey1/shared-bus.git", rev = "046dc03"}
rppal = { version = "0.13.0", features = ["hal"] }
sled = "0.34"
serde = "1.0"
probe-rs = "0.12"
thiserror = "1.0"
uid = "0.1"
argon2 = "0.4"
jsonwebtoken = "8.1"
anyhow = "1.0"
clap = { version = "3.1", features = ["derive", "color", "suggestions"] }
clap-verbosity-flag = "1.0"
dialoguer = "0.10"

# Only used for dummy functions
colored = "2.0"

[dev-dependencies]
serial_test = "0.6"
tower = "0.4"
tokio = {version  = "1.17", features = ["macros"]}